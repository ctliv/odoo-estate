<?xml version='1.0' encoding='utf-8'?>
<odoo>
    
    <!-- worksite.ddt action window -->
    <record id="worksite_ddt_action" model="ir.actions.act_window">
        <field name="name">DDT fornitore</field>
        <field name="type">ir.actions.act_window</field>
        <field name="path">ddtf</field>
        <field name="res_model">worksite.ddt</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
                <!-- Add Text Here -->
            </p><p>
                <!-- More details about what a user can do with this object will be OK --> 
            
            </p>
        </field>
    </record>

    <!-- worksite.ddt tree view -->
    <record id="worksite_ddt_view_tree" model="ir.ui.view">
        <field name="name">worksite.ddt.view.list</field>
        <field name="model">worksite.ddt</field>
        <field name="arch" type="xml">
            <list decoration-success="status == 'checked'">
                <field name="name"/>
                <field name="ddt_date"/>
                <field name="partner_id"/>
                <field name="ddt_item_count"/>
                <field name="line_count"/>
                <field name="status"/>
            </list>
        </field>
    </record>

    <!-- worksite.ddt form view -->
    <record id="worksite_ddt_view_form" model="ir.ui.view">
        <field name="name">worksite.ddt.view.form</field>
        <field name="model">worksite.ddt</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <label for="partner_id" string="Fornitore" style="font-weight:bold;"/>
                        <div class="o_col">
                            <field name="partner_id" widget="res_partner_many2one" nolabel="1" placeholder="(Ricerca...)"/>                                    
                        </div>
                        <field name="name"/>
                        <field name="ddt_date"/>
                        <field name="ddt_item_count"/>
                        <field name="status"/>
                    </group>
                    <group>
                        <field name="attachment_ids" widget="many2many_binary" />    
                    </group>
                </sheet>
                <!-- <div class="o_attachment_preview" />
                <chatter reload_on_attachment="True" /> -->
            </form>
        </field>
    </record>

    <!-- worksite.ddt form view -->
    <!-- 
    <record id="worksite_ddt_view_form" model="ir.ui.view">
        <field name="name">worksite.ddt.view.form</field>
        <field name="model">worksite.ddt</field>
        <field name="arch" type="xml">
            <form string="">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="date"/>
                    </group>
                    <group>
                        <field name="attachment_ids" widget="many2many_binary" />    
                    </group>
                    <notebook>
                        <page name="invoice_list" string="Voci fattura">
                            <field name="invoice_line_ids" widget="product_label_section_and_note_field_o2m" mode="list,kanban" 
                                context="{'default_move_type': context.get('default_move_type'),
                                            'journal_id': journal_id,
                                            'default_partner_id': commercial_partner_id,
                                            'default_currency_id': currency_id or company_currency_id,
                                            'default_display_type': 'product',
                                            'quick_encoding_vals': quick_encoding_vals,
                                            }" readonly="state != 'draft'">
                                <list editable="false" string="Voci fattura">
                                    <field name="product_id" optional="show" widget="product_label_section_and_note_field" domain="                                                     context.get('default_move_type') in ('out_invoice', 'out_refund', 'out_receipt')                                                     and [('sale_ok', '=', True)]                                                     or [('purchase_ok', '=', True)]                                                "/>
                                    <field name="name" widget="section_and_note_text" optional="show"/>
                                    <field name="account_id" context="{'partner_id': partner_id, 'move_type': parent.move_type}" groups="account.group_account_readonly" options="{'no_quick_create': True}" domain="[('deprecated', '=', False), ('account_type', 'not in', ('asset_receivable', 'liability_payable', 'off_balance'))]" required="display_type not in ('line_note', 'line_section')"/>
                                    <field name="analytic_distribution" widget="analytic_distribution" string="Analytic" groups="analytic.group_analytic_accounting" optional="show" options="{'product_field': 'product_id', 'account_field': 'account_id', 'amount_field': 'price_subtotal'}" business_domain_compute="parent.move_type in ['out_invoice', 'out_refund', 'out_receipt'] and 'invoice' or parent.move_type in ['in_invoice', 'in_refund', 'in_receipt'] and 'bill' or 'general'"/>
                                    <field name="quantity" optional="show"/>
                                    <field name="product_uom_category_id" column_invisible="True"/>
                                    <field name="product_uom_id" string="UoM" groups="uom.group_uom" optional="show" width="92px"/>
                                    <field name="product_uom_id" column_invisible="True"/>
                                    <field name="price_unit" string="Price"/>
                                    <field name="discount" width="50px" string="Disc.%" optional="hide"/>
                                    <field name="tax_ids" widget="many2many_tax_tags" domain="[('type_tax_use', '=?', parent.invoice_filter_type_domain), ('company_id', 'parent_of', parent.company_id), ('country_id', '=', parent.tax_country_id)]" context="{'append_type_to_tax_name': not parent.invoice_filter_type_domain, 'active_test': True}" options="{'no_create': True}" optional="show"/>
                                    <field name="price_subtotal" column_invisible="parent.move_type not in ['in_invoice', 'in_refund', 'in_receipt'] and parent.company_price_include == 'tax_included'" string="Amount"/>
                                    <field name="price_total" column_invisible="parent.move_type in ['in_invoice', 'in_refund', 'in_receipt'] or parent.company_price_include == 'tax_excluded'" string="Amount"/>

                                    <field name="partner_id" column_invisible="True"/>
                                    <field name="currency_id" column_invisible="True"/>
                                    <field name="company_id" column_invisible="True"/>
                                    <field name="company_currency_id" column_invisible="True"/>
                                    <field name="display_type" force_save="1" column_invisible="True"/>
                                </list>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
            <div class="o_attachment_preview" />
            <chatter reload_on_attachment="True"/>
        </field>
    </record>
    -->
</odoo>